<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" type="text/css" href="eaL.css">
<link rel="icon" type="image/ico" href="./IM-logo.ico">
<!--<script src="eaL.js"></script>--> 
<script src="index.js"></script> 
<title>Trilingual Learning App</title>
</head>

 <header>
    <div class="container">
      <h1>Welcome to TEAC 882B</h1>
      <h2>Database and Interactive Web Development</h2>
      <h2>Trilingual Learning App</h2>
    </div>
  </header>

<body>
<!-- Navigation Menu -->
<nav>
    <ul>
      <li><a href="#Home"></a></a></li>
      <li><a href="#loginForm">Login</a></li>
      <li><a href="#signUpForm">Sign Up</a></li>
      <li><a id="viewContent">View</a></li>
    </ul>
  </nav>

<!-- Login Form -->
  <div id="loginForm" style="display: none;">
  <form action="/process" method="post">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username"><br>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password"><br>
      <button type="submit" id="loginSubmitButton">Login</button>
      <p id="loginError" style="color: red;"></p>
    </form>
  </div>

<!-- Sign-Up Form (initially hidden) -->
<div id="signUpForm" style="display: none;">
   <form action="/process" method="post">
<h2>Sign Up Form</h2>

  
  <!-- Country Drop-Down -->
  <label for="countryDropdown">Country:</label>
  <select id="countryDropdown" name="countryofOrigin">
  </select><br>
  
  <!-- Text Inputs for Other Information -->
  <label for="username">Name:</label>
  <input type="text" id="nameInput" name="name"><br>
  
  <label for="passwordInput">Password:</label>
  <input type="password" id="passwordInput" name="password" required><br>
  
  <label for="languagesSpokenInput">Languages Spoken:</label>
  <input type="text" id="languagesSpokenInput" name="languagesSpoken"><br>
  
  <label for="majorInput">Major:</label>
  <input type="text" id="majorInput" name="major"><br>
  
  <label for="specializationInput">Specialization:</label>
  <input type="text" id="specializationInput" name="specialization"><br>
  
  <label for="classesInput">Classes:</label>
  <input type="text" id="classesInput" name="classes"><br>
  
  <!-- Proficiency Level Drop-Down -->
  <label for="proficiencyLevelDropdown">Proficiency Level:</label>
  <select id="proficiencyLevelDropdown" name="proficiencyLevel">
    <option value="Beginner">Beginner</option>
    <option value="Elementary">Elementary</option>
    <option value="Intermediate">Intermediate</option>
    <option value="Upper Intermediate">Upper Intermediate</option>
    <option value="Advanced">Advanced</option>
    <option value="Proficient">Proficient</option>
  </select><br>
  
  <!-- Learning Style Drop-Down -->
  <label for="learningStyleDropdown">Learning Style:</label>
  <select id="learningStyleDropdown" name="learningStyle">
    <option value="Visual">Visual</option>
    <option value="Auditory">Auditory</option>
    <option value="ReadAndWrite">Read and Write</option>
    <option value="Kinesthetic">Kinesthetic</option>
  </select><br>
 <button id="submitButton" type="submit">Submit</button>
  </form>
</div>


<div id="results">

</div>

<h2>User Profiles</h2>

<div id="userCards" class="card-grid">
   
</div>

<!-- Content Placeholder -->
<h2>Learning Content</h2>
<div id="content"></div>

<script>
  async function fetchAndDisplayContent() {
    try {
      const lessonsResponse = await fetch('/api/content');
      if (!lessonsResponse.ok) {
        throw new Error('Network response was not ok');
      }

      const { lessons } = await lessonsResponse.json();

      const contentElement = document.getElementById('content');
      contentElement.innerHTML = '';

      // Display lessons
      const lessonsHeading = document.createElement('h3');
      lessonsHeading.textContent = 'Lessons:';
      contentElement.appendChild(lessonsHeading);

      lessons.forEach(lesson => {
        const lessonElement = document.createElement('div');
        lessonElement.innerHTML = `
          <h4>${lesson.topic}</h4>
          <p>Proficiency Levels:</p>
          <ul>
            ${lesson.proficiencyLevels.map(level => `
              <li>
                <strong>${level.level}</strong>
                <p>${level.overview}</p>
                <p>Grammar: ${level.grammar.title}</p>
                <p>Vocabulary: ${level.vocabulary.title}</p>
              </li>
            `).join('')}
          </ul>
        `;
        contentElement.appendChild(lessonElement);
      });

      // Display users from eaL.json
      const usersHeading = document.createElement('h3');
      usersHeading.textContent = 'Users:';
      contentElement.appendChild(usersHeading);

      userProfiles.forEach(user => {
        const userElement = document.createElement('div');
        userElement.innerHTML = `
          <p><strong>Name:</strong> ${user.name}</p>
          <p><strong>Country of Origin:</strong> ${user.countryofOrigin}</p>
          <p><strong>Languages Spoken:</strong> ${user.languagesSpoken.join(', ')}</p>
          <p><strong>Major:</strong> ${user.major}</p>
          <p><strong>Specialization:</strong> ${user.specialization}</p>
          <p><strong>Classes:</strong> ${user.classes.join(', ')}</p>
        `;
        contentElement.appendChild(userElement);
      });
    } catch (error) {
      console.error('Error fetching content:', error);
      document.getElementById('content').innerHTML = 'An error occurred. Please try again later.';
    }
  }

  // Call the function to fetch and display content
  fetchAndDisplayContent();
</script>
  
  


<!--include jquery & backstretch-->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript" src="jquery.backstretch.min.js"></script>
<script type="text/javascript">
    $.backstretch("cpeh.jpg", {speed: 150});

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="jquery.backstretch.min.js"></script>
  <script type="text/javascript">
    $.backstretch("cpeh.jpg", {speed: 150});

    // Function to fetch and display statistics
    function fetchAndDisplaycontent() {
      $.get('/routes/content', function(data) {
        // Clear loading message
        $('#content').empty();
        // Process fetched data and update HTML
        data.forEach(function(user) {
          $('#content').append(`<p>${user.name}: ${user.Country_of_Origin}, ${user.Proficiency_level}, ${user.LearningStyle}</p>`);
        });
      });
    }

    // Event listener to fetch and display statistics when View Statistics link is clicked
    $(document).ready(function() {
      $('#viewStatistics').on('click', function() {
        fetchAndDisplaycontent();
      });
    });
</script>
 
</body>
</html>


